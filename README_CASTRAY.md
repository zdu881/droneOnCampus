# CastRay + DroneOnCampus é›†æˆç³»ç»Ÿ

ä¸€ä¸ªé›†æˆäº†Rayé›†ç¾¤ç›‘æ§ã€CastRayåˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿå’Œæ— äººæœºæ ¡å›­é…é€ä»¿çœŸçš„ç»¼åˆå¹³å°ã€‚

## ğŸš€ ç³»ç»Ÿæ¦‚è¿°

æœ¬ç³»ç»Ÿå°†ä¸‰ä¸ªæ ¸å¿ƒç»„ä»¶å®Œç¾é›†æˆï¼š

1. **Rayé›†ç¾¤ç›‘æ§** - å®æ—¶ç›‘æ§Rayåˆ†å¸ƒå¼è®¡ç®—é›†ç¾¤çŠ¶æ€
2. **CastRayåˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿ** - é«˜æ€§èƒ½èŠ‚ç‚¹é—´æ¶ˆæ¯ä¼ è¾“å’Œæ–‡ä»¶ä¼ è¾“
3. **DroneOnCampusä»¿çœŸå¹³å°** - æ— äººæœºæ ¡å›­é…é€æ•°å­—å­ªç”Ÿç³»ç»Ÿ

## ğŸ“‹ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DroneOnCampus Dashboard                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   è§†å£      â”‚ â”‚   Rayé›†ç¾¤   â”‚ â”‚   CastRay   â”‚ â”‚    é¥æµ‹     â”‚ â”‚
â”‚  â”‚   æ§åˆ¶      â”‚ â”‚   ç›‘æ§      â”‚ â”‚   èŠ‚ç‚¹      â”‚ â”‚    æ•°æ®     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CastRay åç«¯ç³»ç»Ÿ                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  FastAPI    â”‚ â”‚  WebSocket  â”‚ â”‚ æ–‡ä»¶ä¼ è¾“    â”‚ â”‚ èŠ‚ç‚¹ç®¡ç†    â”‚ â”‚
â”‚  â”‚  REST API   â”‚ â”‚  å®æ—¶é€šä¿¡   â”‚ â”‚ ç³»ç»Ÿ        â”‚ â”‚ æœåŠ¡        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       Ray é›†ç¾¤                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ HEAD èŠ‚ç‚¹   â”‚ â”‚  GPU èŠ‚ç‚¹   â”‚ â”‚  è®¡ç®—èŠ‚ç‚¹   â”‚ â”‚  å­˜å‚¨èŠ‚ç‚¹   â”‚ â”‚
â”‚  â”‚ 16æ ¸/770GB  â”‚ â”‚ 8æ ¸/1GPU    â”‚ â”‚ å¤šæ ¸CPU     â”‚ â”‚ å¤§å®¹é‡å­˜å‚¨  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ å¿«é€Ÿå¯åŠ¨

### æ–¹æ³•1: ä½¿ç”¨ç»Ÿä¸€å¯åŠ¨è„šæœ¬ï¼ˆæ¨èï¼‰

```bash
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x start_castray_system.sh

# å¯åŠ¨ç³»ç»Ÿ
./start_castray_system.sh start

# æŸ¥çœ‹çŠ¶æ€
./start_castray_system.sh status

# åœæ­¢ç³»ç»Ÿ
./start_castray_system.sh stop
```

### æ–¹æ³•2: ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬

```bash
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x quick_start.sh

# ä¸€é”®å¯åŠ¨
./quick_start.sh
```

### æ–¹æ³•3: æ‰‹åŠ¨å¯åŠ¨

```bash
# 1. å¯åŠ¨CastRayåç«¯
cd /data/home/sim6g/rayCode/CastRay
conda activate ray
python main.py &

# 2. å¯åŠ¨å‰ç«¯æœåŠ¡å™¨
cd /data/home/sim6g/rayCode/droneOnCampus
python -m http.server 8080 &
```

## ğŸŒ è®¿é—®åœ°å€

| æœåŠ¡ | åœ°å€ | åŠŸèƒ½ |
|------|------|------|
| ä¸»Dashboard | http://10.30.2.11:8080/dashboard.html | é›†æˆæ§åˆ¶é¢æ¿ |
| CastRay API | http://10.30.2.11:8000/api/status | CastRayçŠ¶æ€API |
| Rayé›†ç¾¤ç›‘æ§ | http://10.30.2.11:8265 | Rayå®˜æ–¹ç›‘æ§é¢æ¿ |
| Pixel Streaming | http://10.30.2.11:80 | UE5å®æ—¶æ¸²æŸ“æµ |

## ğŸ“Š åŠŸèƒ½ç‰¹æ€§

### Rayé›†ç¾¤ç›‘æ§
- âœ… å®æ—¶èŠ‚ç‚¹çŠ¶æ€æ˜¾ç¤º
- âœ… CPU/å†…å­˜/GPUä½¿ç”¨ç‡ç›‘æ§
- âœ… è´Ÿè½½å‡è¡¡å¯è§†åŒ–
- âœ… èŠ‚ç‚¹è¿æ¥ç±»å‹è¯†åˆ«ï¼ˆæœ‰çº¿/æ— çº¿ï¼‰
- âœ… ä»»åŠ¡æ‰§è¡ŒçŠ¶æ€è·Ÿè¸ª

### CastRayåˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿ
- âœ… èŠ‚ç‚¹é—´é«˜é€Ÿæ¶ˆæ¯ä¼ è¾“
- âœ… æ–‡ä»¶ä¼ è¾“ç®¡ç†
- âœ… WebSocketå®æ—¶é€šä¿¡
- âœ… è‡ªåŠ¨ä¼ è¾“è°ƒåº¦
- âœ… ä¼ è¾“æ—¥å¿—è®°å½•

### DroneOnCampusä»¿çœŸ
- âœ… 3Dæ•°å­—å­ªç”Ÿç¯å¢ƒ
- âœ… æ— äººæœºè·¯å¾„è§„åˆ’
- âœ… å®æ—¶é¥æµ‹æ•°æ®
- âœ… å¤šåœºæ™¯åˆ‡æ¢
- âœ… Pixel Streamingé›†æˆ

## ğŸ”§ ç³»ç»Ÿç›‘æ§

å¯åŠ¨å®æ—¶ç›‘æ§é¢æ¿ï¼š

```bash
chmod +x monitor_system.sh
./monitor_system.sh
```

ç›‘æ§é¢æ¿æä¾›ï¼š
- ğŸŸ¢ æœåŠ¡çŠ¶æ€å®æ—¶æ£€æŸ¥
- ğŸ“Š ç³»ç»Ÿèµ„æºä½¿ç”¨ç‡
- ğŸ”„ è¿›ç¨‹çŠ¶æ€ç›‘æ§
- ğŸ“ æ—¥å¿—æ‘˜è¦æ˜¾ç¤º
- âš¡ å¿«æ·æ“ä½œå‘½ä»¤

## ğŸ“ æ–‡ä»¶ç»“æ„

```
droneOnCampus/
â”œâ”€â”€ dashboard.html              # ä¸»æ§åˆ¶é¢æ¿
â”œâ”€â”€ dashboard-styles.css        # æ ·å¼æ–‡ä»¶
â”œâ”€â”€ dashboard-manager.js        # é¢æ¿ç®¡ç†å™¨
â”œâ”€â”€ ray_monitor.js             # Rayé›†ç¾¤ç›‘æ§
â”œâ”€â”€ castray_integration.js     # CastRayé›†æˆæ¨¡å—
â”œâ”€â”€ start_castray_system.sh    # ç»Ÿä¸€å¯åŠ¨è„šæœ¬
â”œâ”€â”€ quick_start.sh             # å¿«é€Ÿå¯åŠ¨è„šæœ¬
â”œâ”€â”€ monitor_system.sh          # ç³»ç»Ÿç›‘æ§è„šæœ¬
â”œâ”€â”€ stop_castray_system.sh     # åœæ­¢è„šæœ¬ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ system_config.json         # ç³»ç»Ÿé…ç½®æ–‡ä»¶
â””â”€â”€ logs/                      # æ—¥å¿—ç›®å½•
    â”œâ”€â”€ castray.log            # CastRayæ—¥å¿—
    â”œâ”€â”€ frontend.log           # å‰ç«¯æ—¥å¿—
    â”œâ”€â”€ castray.pid            # è¿›ç¨‹IDæ–‡ä»¶
    â””â”€â”€ frontend.pid           # è¿›ç¨‹IDæ–‡ä»¶
```

## ğŸ”Œ APIæ¥å£

### CastRay APIæ¥å£

| ç«¯ç‚¹ | æ–¹æ³• | åŠŸèƒ½ |
|------|------|------|
| `/api/status` | GET | è·å–ç³»ç»ŸçŠ¶æ€ |
| `/api/nodes` | GET/POST | èŠ‚ç‚¹ç®¡ç† |
| `/api/files` | GET | è·å–å¯ç”¨æ–‡ä»¶åˆ—è¡¨ |
| `/api/file-transfers` | POST | å¯åŠ¨æ–‡ä»¶ä¼ è¾“ |
| `/ws` | WebSocket | å®æ—¶æ¶ˆæ¯é€šä¿¡ |

### ä½¿ç”¨ç¤ºä¾‹

```bash
# è·å–ç³»ç»ŸçŠ¶æ€
curl http://10.30.2.11:8000/api/status

# è·å–æ–‡ä»¶åˆ—è¡¨
curl http://10.30.2.11:8000/api/files

# åˆ›å»ºæ–°èŠ‚ç‚¹
curl -X POST http://10.30.2.11:8000/api/nodes \
  -H "Content-Type: application/json" \
  -d '{"node_id": "node_4", "port": 0}'
```

## ğŸ¯ é›†ç¾¤ä¿¡æ¯

å½“å‰Rayé›†ç¾¤é…ç½®ï¼š
- **èŠ‚ç‚¹æ•°é‡**: 23ä¸ª
- **CPUæ ¸å¿ƒ**: 3,664ä¸ª
- **GPUæ•°é‡**: 120ä¸ªï¼ˆåŒ…å«G1-G8, M1-M13ç­‰å‹å·ï¼‰
- **å†…å­˜å®¹é‡**: 17.7TB
- **å­˜å‚¨å®¹é‡**: 4.2TBå¯¹è±¡å­˜å‚¨

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **CastRayå¯åŠ¨å¤±è´¥**
   ```bash
   # æ£€æŸ¥Rayé›†ç¾¤è¿æ¥
   telnet 10.30.2.11 6379
   
   # æ£€æŸ¥condaç¯å¢ƒ
   conda activate ray
   which python
   ```

2. **ç«¯å£å ç”¨å†²çª**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   lsof -i :8000
   lsof -i :8080
   
   # æ¸…ç†å ç”¨è¿›ç¨‹
   pkill -f "python main.py"
   pkill -f "http.server"
   ```

3. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**
   ```bash
   # æ£€æŸ¥CORSé…ç½®
   curl -H "Origin: http://10.30.2.11:8080" http://10.30.2.11:8000/api/status
   ```

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹CastRayæ—¥å¿—
tail -f /data/home/sim6g/rayCode/CastRay/castray.log

# æŸ¥çœ‹å‰ç«¯æ—¥å¿—
tail -f ./frontend.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
tail -f ./logs/*.log
```

## ğŸ”„ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-08-29)
- âœ… åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- âœ… é›†æˆRayé›†ç¾¤ç›‘æ§
- âœ… é›†æˆCastRayåˆ†å¸ƒå¼æ¶ˆæ¯ç³»ç»Ÿ
- âœ… å®Œæ•´çš„Dashboardç•Œé¢
- âœ… ç»Ÿä¸€å¯åŠ¨å’Œç›‘æ§è„šæœ¬
- âœ… æ–‡ä»¶ä¼ è¾“åŠŸèƒ½ä¼˜åŒ–
- âœ… CORSé…ç½®å®Œå–„

## ğŸ‘¥ è´¡çŒ®è€…

- AI Assistant - ç³»ç»Ÿè®¾è®¡ä¸å®ç°

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®åŸºäº MIT è®¸å¯è¯å¼€æºã€‚

---

**ğŸ‰ äº«å—ä½¿ç”¨ CastRay + DroneOnCampus é›†æˆç³»ç»Ÿï¼**
